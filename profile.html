<!DOCTYPE html>
<html lang="en" class="antialiased scroll-smooth">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Profile - Blood Donation Community</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="shortcut icon" href="image/blood-drop.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/profile.css">
    <meta name="description" content="Manage your donor profile at Blood Donation Community.">
    <style>
        #page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center
        }

        #page-loader.fade-out {
            opacity: 0;
            visibility: hidden;
            transition: opacity .5s, visibility .5s
        }

        body.loading>*:not(#page-loader):not(script) {
            opacity: 0 !important;
            visibility: hidden !important
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 loading" style="font-family:'Inter',sans-serif;">

    <div id="page-loader">
        <div class="logo-wrapper">
            <div class="logo-base">
                <img src="image/blood-drop.png" alt="" />
            </div>
            <div class="logo-fill">
                <img src="image/blood-drop.png" alt="Loading" />
            </div>
        </div>
    </div>

    <header class="profile-header">
        <nav class="max-w-5xl mx-auto flex items-center justify-between px-4 sm:px-6 py-3">
            <a href="index.html" class="flex items-center gap-2.5 text-decoration-none group">
                <img src="image/blood-drop.png" alt="logo" class="h-9 w-9 rounded-xl transition group-hover:scale-110" />
                <span class="text-lg sm:text-xl font-extrabold text-red-700 tracking-tight" data-i18n="profileTitle">My Profile</span>
            </a>
            <div class="flex items-center gap-2">
                <a href="index.html"
                    class="inline-flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-red-700 hover:bg-red-50 transition">
                    <i class="fa-solid fa-arrow-left text-xs"></i>
                    <span class="hidden sm:inline" data-i18n="profileBackHome">Back to Home</span>
                    <span class="sm:hidden" data-i18n="profileHome">Home</span>
                </a>
                <button id="pf-logout-header" type="button"
                    class="inline-flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 border border-red-200 transition">
                    <i class="fa-solid fa-sign-out-alt text-xs"></i>
                    <span class="hidden sm:inline" data-i18n="profileLogout">Logout</span>
                </button>
            </div>
        </nav>
    </header>

    <main class="profile-main">
        <div id="not-logged-in" class="hidden">
            <div class="profile-empty-state">
                <div class="profile-empty-icon">
                    <i class="fa-solid fa-user-lock"></i>
                </div>
                <h2 class="text-xl font-bold text-gray-800 mt-4" data-i18n="profileNotLoggedIn">You're not logged in</h2>
                <p class="text-sm text-gray-500 mt-2 max-w-sm mx-auto" data-i18n="profileNotLoggedInDesc">Please log in from the home page to view and manage your donor profile.</p>
                <a href="index.html"
                    class="mt-6 inline-flex items-center gap-2 px-6 py-2.5 rounded-lg bg-red-600 text-white font-semibold shadow hover:bg-red-700 transition">
                    <i class="fa-solid fa-arrow-left"></i>
                    <span data-i18n="profileGoHome">Go to Home</span>
                </a>
            </div>
        </div>

        <div id="profile-content" class="hidden">
            <div class="profile-hero-card">
                <div class="profile-hero-bg"></div>
                <div class="profile-hero-inner">
                    <div class="profile-avatar" id="profile-avatar">
                        <span id="profile-avatar-text">?</span>
                    </div>
                    <div class="profile-hero-info">
                        <h1 id="profile-display-name" class="text-xl sm:text-2xl font-extrabold text-gray-900">Donor Name</h1>
                        <div class="flex flex-wrap items-center gap-2 mt-1.5">
                            <span id="profile-display-blood"
                                class="inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full bg-red-100 text-red-700 text-xs font-bold">
                                <i class="fa-solid fa-droplet text-[10px]"></i>
                                <span>—</span>
                            </span>
                            <span id="profile-display-location"
                                class="inline-flex items-center gap-1 text-xs text-gray-500 font-medium">
                                <i class="fa-solid fa-location-dot text-[10px]"></i>
                                <span>—</span>
                            </span>
                        </div>
                        <p id="profile-display-email" class="text-xs text-gray-400 mt-1">email@example.com</p>
                    </div>
                </div>
                <div class="profile-quick-stats">
                    <div class="profile-stat-item">
                        <span class="profile-stat-icon"><i class="fa-solid fa-calendar-check"></i></span>
                        <div>
                            <p class="profile-stat-label" data-i18n="profileLastDonationLabel">Last Donation</p>
                            <p id="profile-stat-last" class="profile-stat-value">Not recorded</p>
                        </div>
                    </div>
                    <div class="profile-stat-item">
                        <span class="profile-stat-icon profile-stat-icon--green"><i class="fa-solid fa-circle-check"></i></span>
                        <div>
                            <p class="profile-stat-label" data-i18n="profileEligibilityLabel">Eligibility</p>
                            <p id="profile-stat-eligible" class="profile-stat-value">—</p>
                        </div>
                    </div>
                    <div class="profile-stat-item">
                        <span class="profile-stat-icon profile-stat-icon--blue"><i class="fa-solid fa-id-badge"></i></span>
                        <div>
                            <p class="profile-stat-label" data-i18n="profileMemberRole">Member Role</p>
                            <p id="profile-stat-role" class="profile-stat-value">Member</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-form-card">
                <div class="profile-form-header">
                    <div class="flex items-center gap-2.5">
                        <span class="profile-form-header-icon"><i class="fa-solid fa-pen-to-square"></i></span>
                        <div>
                            <h2 class="text-base sm:text-lg font-bold text-gray-900" data-i18n="profileEditTitle">Edit Profile</h2>
                            <p class="text-xs text-gray-500 mt-0.5" data-i18n="profileEditDesc">Update your personal and donation details</p>
                        </div>
                    </div>
                </div>

                <form id="profile-form" class="profile-form-body">
                    <div class="profile-form-grid">
                        <div class="pf-field">
                            <label for="profile-fullName" class="pf-label">
                                <i class="fa-solid fa-user pf-label-icon"></i> <span data-i18n="profileFullName">Full Name</span>
                            </label>
                            <input name="fullName" id="profile-fullName" type="text" required
                                class="pf-input" placeholder="Enter your full name" />
                        </div>
                        <div class="pf-field">
                            <label for="profile-email" class="pf-label">
                                <i class="fa-solid fa-envelope pf-label-icon"></i> <span data-i18n="profileEmailReadonly">Email</span>
                            </label>
                            <input name="email" id="profile-email" type="email" required readonly
                                class="pf-input pf-input--readonly" placeholder="Email" />
                            <span class="pf-hint" data-i18n="profileEmailReadonly">Email cannot be changed</span>
                        </div>
                        <div class="pf-field">
                            <label for="profile-phone" class="pf-label">
                                <i class="fa-solid fa-phone pf-label-icon"></i> <span data-i18n="profilePhone">Phone Number</span>
                            </label>
                            <input name="phone" id="profile-phone" type="tel" required
                                class="pf-input" placeholder="Enter phone number" />
                        </div>
                        <div class="pf-field">
                            <label for="profile-bloodGroup" class="pf-label">
                                <i class="fa-solid fa-droplet pf-label-icon"></i> <span data-i18n="profileBloodGroup">Blood Group</span>
                            </label>
                            <select name="bloodGroup" id="profile-bloodGroup" required class="pf-input">
                                <option value="">Select group</option>
                                <option>A+</option>
                                <option>A-</option>
                                <option>B+</option>
                                <option>B-</option>
                                <option>O+</option>
                                <option>O-</option>
                                <option>AB+</option>
                                <option>AB-</option>
                            </select>
                        </div>
                        <div class="pf-field">
                            <label for="profile-location" class="pf-label">
                                <i class="fa-solid fa-location-dot pf-label-icon"></i> <span data-i18n="profileLocation">Current Location</span>
                            </label>
                            <input name="location" id="profile-location" type="text" required
                                class="pf-input" placeholder="Enter your location" />
                        </div>
                        <div class="pf-field">
                            <label for="profile-lastDonateDate" class="pf-label">
                                <i class="fa-solid fa-calendar-day pf-label-icon"></i> <span data-i18n="profileLastDonation">Last Blood Donation</span>
                            </label>
                            <input name="lastDonateDate" id="profile-lastDonateDate" type="date"
                                class="pf-input" />
                        </div>
                        <div class="pf-field pf-field--full">
                            <label for="profile-notes" class="pf-label">
                                <i class="fa-solid fa-note-sticky pf-label-icon"></i> <span data-i18n="profileNotes">Additional Notes</span>
                            </label>
                            <textarea name="notes" id="profile-notes" rows="3"
                                class="pf-input" placeholder="Any additional information you'd like to share..."></textarea>
                        </div>
                    </div>
                    <input name="role" id="profile-role" type="hidden" />

                    <div class="profile-actions">
                        <button type="submit" class="pf-btn pf-btn--primary">
                            <i class="fa-solid fa-save"></i>
                            <span data-i18n="profileSaveChanges">Save Changes</span>
                        </button>
                        <button id="pf-certificate" type="button" class="pf-btn pf-btn--blue">
                            <i class="fa-solid fa-certificate"></i>
                            <span data-i18n="profileGenCert">Generate Certificate</span>
                        </button>
                        <button id="pf-donor-card" type="button" class="pf-btn pf-btn--teal">
                            <i class="fa-solid fa-id-card"></i>
                            <span>Donor Card</span>
                        </button>
                    </div>
                </form>
            </div>

            <div class="profile-danger-card">
                <div class="flex items-center gap-2.5 mb-3">
                    <span class="profile-danger-icon"><i class="fa-solid fa-triangle-exclamation"></i></span>
                    <h3 class="text-sm font-bold text-red-700" data-i18n="profileDangerZone">Danger Zone</h3>
                </div>
                <p class="text-xs text-gray-500 mb-4" data-i18n="profileDangerDesc">Permanently delete your account and all associated data. This action cannot be undone.</p>
                <button id="pf-delete" type="button" class="pf-btn pf-btn--danger">
                    <i class="fa-solid fa-trash-alt"></i>
                    <span data-i18n="profileDeleteAccount">Delete My Account</span>
                </button>
            </div>
        </div>
    </main>

    <div id="profile-toast" class="profile-toast hidden">
        <div class="profile-toast-inner">
            <i id="profile-toast-icon" class="fa-solid fa-check-circle"></i>
            <span id="profile-toast-msg">Saved!</span>
        </div>
    </div>

    <div id="delete-confirm-modal" class="fixed inset-0 hidden items-center justify-center z-50">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
        <div class="bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 z-10 text-center">
            <div class="w-14 h-14 mx-auto rounded-full bg-red-100 flex items-center justify-center mb-4">
                <i class="fa-solid fa-triangle-exclamation text-red-600 text-xl"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2" data-i18n="profileDeleteTitle">Delete your account?</h3>
            <p class="text-sm text-gray-500" data-i18n="profileDeleteDesc">This will permanently remove your donor profile and all associated data. This cannot be undone.</p>
            <div class="mt-6 flex justify-center gap-3">
                <button id="delete-cancel"
                    class="px-5 py-2.5 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 transition" data-i18n="modalCancel">Cancel</button>
                <button id="delete-confirm"
                    class="px-5 py-2.5 bg-red-600 text-white rounded-xl text-sm font-semibold hover:bg-red-700 transition shadow" data-i18n="deleteConfirmButton">Delete Permanently</button>
            </div>
        </div>
    </div>

    <footer
        class="mt-16 relative text-gray-300 bg-slate-900/95 backdrop-blur rounded-t-2xl shadow-[0_-12px_40px_rgba(2,6,23,0.45)] overflow-hidden">
        <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-red-500/60 to-transparent">
        </div>
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="footer-brand-title">
                        <img src="image/blood-drop.png" alt="Blood Donation Community" />
                        <span data-i18n="siteTitle">Blood Donation Community</span>
                    </div>
                    <p data-i18n="footerBrandDesc">A passionate, volunteer-driven organization dedicated to saving lives through the power of blood donation. We connect donors with patients in urgent need.</p>
                    <div class="footer-socials mt-2">
                        <a href="https://www.facebook.com/share/1CLTZN8DmU/?mibextid=wwXIfr" class="social-facebook" aria-label="Facebook" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.linkedin.com/company/bauet-blood-donation-club/" class="social-linkedin" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://wa.me/8801712460423" class="social-whatsapp" aria-label="WhatsApp" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="footer-col-title" data-i18n="footerQuickLinks">QUICK LINKS</h4>
                    <ul class="footer-links">
                        <li><a href="about.html"><i class="fa-solid fa-chevron-right"></i> <span data-i18n="navAbout">About</span></a></li>
                        <li><a href="donationGuide.html"><i class="fa-solid fa-chevron-right"></i> <span data-i18n="navHow">Donation Guide</span></a></li>
                        <li><a href="events.html"><i class="fa-solid fa-chevron-right"></i> <span data-i18n="navEvents">Events</span></a></li>
                        <li><a href="join.html"><i class="fa-solid fa-chevron-right"></i> <span data-i18n="navJoin">Join</span></a></li>
                        <li><a href="index.html#search"><i class="fa-solid fa-chevron-right"></i> <span data-i18n="navSearch">Search</span></a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="footer-col-title" data-i18n="footerContactInfo">Contact Info</h4>
                    <ul class="footer-links">
                        <li><a href="mailto:bauet.bdc@gmail.com"><i class="fa-solid fa-envelope"></i> <span>bauet.bdc@gmail.com</span></a></li>
                        <li><a href="tel:+8801712460423"><i class="fa-solid fa-phone"></i> <span>+8801712460423</span></a></li>
                        <li><a href="index.html#contact"><i class="fa-solid fa-message"></i> <span data-i18n="navContact">Contact</span></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-feedback-wrap">
                <button id="feedback-btn" type="button"
                    class="inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg bg-red-600/90 text-white text-sm font-semibold shadow hover:bg-red-700 transition">
                    <i class="fa-solid fa-comment-dots" aria-hidden="true"></i>
                    <span data-i18n="footerFeedback">Share Feedback</span>
                </button>
            </div>
            <hr class="footer-divider" />
            <div class="footer-bottom">
                <p class="footer-copy">
                    &copy; 2026 <a href="index.html">Blood Donation Community</a> All rights reserved.
                </p>
                <p class="footer-copy">
                    <span data-i18n="footerDeveloper">Developed by Md. Mueid Shahriar, </span> CSE-16th, BAUET
                </p>
            </div>
        </div>
    </footer>

    <div id="fab-wrap" class="fixed bottom-6 right-6 z-40 flex flex-col items-end gap-2">
        <a href="#" id="back-to-top"
            class="bg-red-600 text-white w-12 h-12 rounded-full shadow-lg hover:bg-red-700 transition-all text-lg flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" />
            </svg>
        </a>
    </div>

    <div id="feedback-modal" class="fixed inset-0 hidden items-center justify-center z-50">
        <div class="absolute inset-0 bg-black opacity-40"></div>
        <div class="bg-white rounded-lg shadow-xl p-6 max-w-md mx-4 z-10 w-full">
            <div class="flex items-start justify-between mb-3">
                <div>
                    <h3 class="text-lg font-bold text-red-700" data-i18n="feedbackTitle">Share Your Feedback</h3>
                    <p class="text-sm text-gray-600" data-i18n="feedbackDesc">Let us know how we can improve the Blood Donation Community.</p>
                </div>
                <button type="button" id="feedback-close" class="text-gray-400 hover:text-gray-600" aria-label="Close feedback form">
                    <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                </button>
            </div>
            <form id="feedback-form" class="grid gap-4">
                <div class="field-icon-left">
                    <i class="fi fa-solid fa-user"></i>
                    <input name="name" id="feedback-name" type="text" placeholder=" "
                        class="peer block w-full rounded-lg border-2 border-gray-100 bg-white p-3 text-gray-900 shadow-sm focus:border-red-300 focus:outline-none" />
                    <label for="feedback-name"
                        class="absolute left-4 top-3 text-gray-400 transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-red-700 peer-valid:-top-3.5 peer-valid:text-sm peer-valid:text-red-700 pointer-events-none bg-white px-1">Name</label>
                </div>
                <div class="field-icon-left">
                    <i class="fi fa-solid fa-envelope"></i>
                    <input name="email" id="feedback-email" type="email" placeholder=" " autocomplete="email"
                        class="peer block w-full rounded-lg border-2 border-gray-100 bg-white p-3 text-gray-900 shadow-sm focus:border-red-300 focus:outline-none" />
                    <label for="feedback-email"
                        class="absolute left-4 top-3 text-gray-400 transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-red-700 peer-valid:-top-3.5 peer-valid:text-sm peer-valid:text-red-700 pointer-events-none bg-white px-1">Email (optional)</label>
                </div>
                <div class="field-icon-left">
                    <i class="fi fa-solid fa-comment"></i>
                    <textarea name="message" id="feedback-message" placeholder=" " required rows="4"
                        class="peer block w-full rounded-lg border-2 border-gray-100 bg-white p-3 text-gray-900 shadow-sm focus:border-red-300 focus:outline-none"></textarea>
                    <label for="feedback-message"
                        class="absolute left-4 top-3 text-gray-400 transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-focus:-top-3 peer-focus:text-sm peer-focus:text-red-700 peer-valid:-top-3 peer-valid:text-sm peer-valid:text-red-700 pointer-events-none bg-white px-1">Your feedback</label>
                </div>
                <div class="flex justify-end gap-3">
                    <button type="button" id="feedback-cancel" class="px-4 py-2 rounded-lg border border-gray-200" data-i18n="modalCancel">Cancel</button>
                    <button type="submit"
                        class="px-5 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 flex items-center gap-2">
                        <i class="fa-solid fa-paper-plane" aria-hidden="true"></i>
                        <span data-i18n="feedbackSend">Send</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="assets/js/viewport.js" defer></script>
    <script type="module" src="assets/js/profile.js"></script>
</body>

</html>
